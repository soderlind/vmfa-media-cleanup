<?xml version="1.0"?>
<ruleset name="VMFA Media Cleanup">
	<description>Custom PHPCS ruleset for VMFA Media Cleanup add-on.</description>

	<!-- Scan only PHP files -->
	<arg name="extensions" value="php"/>
	<arg name="colors"/>
	<arg value="sp"/>

	<!-- Source directories -->
	<file>./src/php</file>
	<file>./vmfa-media-cleanup.php</file>

	<!-- Exclude vendor and build directories -->
	<exclude-pattern>./vendor/*</exclude-pattern>
	<exclude-pattern>./node_modules/*</exclude-pattern>
	<exclude-pattern>./build/*</exclude-pattern>

	<!-- WordPress Coding Standards -->
	<rule ref="WordPress">
		<!-- Allow short array syntax -->
		<exclude name="Universal.Arrays.DisallowShortArraySyntax"/>
		<!-- Allow short ternary -->
		<exclude name="WordPress.PHP.DisallowShortTernary"/>
	</rule>

	<!-- WordPress VIP compatibility (non-VIP, but follow best practices) -->
	<rule ref="WordPress-Extra"/>

	<!-- Text domain -->
	<rule ref="WordPress.WP.I18n">
		<properties>
			<property name="text_domain" type="array" value="vmfa-media-cleanup"/>
		</properties>
	</rule>

	<!-- Minimum PHP version -->
	<config name="minimum_php_version" value="8.3"/>

	<!-- Minimum WP version -->
	<config name="minimum_wp_version" value="6.8"/>

	<!-- Allow direct database queries with appropriate comments -->
	<rule ref="WordPress.DB.DirectDatabaseQuery">
		<severity>5</severity>
	</rule>
</ruleset>
